やるべきこと

pciデバイスを探す
baseアドレスを取得できるようにしておく




xv6-netは認識時にinit
mikanosとかは、main関数でinit



bus,dev,funcをすべてリストに登録

リストから、nicのvendorIDとdeviceIDに当たるもののbus,dev,funcを取り出して、そこからbaseアドレスを得る

それをドライバに渡せば良い

bus,dev,func,address(オフセット)の4値によって、baseアドレスを割り出すことができる



デフォルトでpciデバイス6個